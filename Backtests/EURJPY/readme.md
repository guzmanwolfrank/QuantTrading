

# EUR JPY Pivot Strategy Backtest 
#
### by Wolfrank Guzman 
@guzmanwolfrank : Github 


![qimage](https://github.com/guzmanwolfrank/QuantTrading/assets/29739578/136bf05a-9b74-4ee7-8951-b28983e4e3e5)


# Project Overview 

This project creates a backtest based on the EURJPY Pivot point prices.  

### To view the project's Jupyter notebook, click [here](https://github.com/guzmanwolfrank/QuantTrading/blob/main/Backtests/Pivot_Strat/EURUSDPivot.ipynb)

# Data Description

This section describes the key columns within the dataset used by the EURUSD Pivot Strategy algorithm.

### Price Data:

Open: The opening price of the EURUSD currency pair for a given period. <br/>
High: The highest price reached by EURUSD during that period.<br/>
Low: The lowest price reached by EURUSD during that period.<br/>
Close: The price at which EURUSD closed for the period. This price is used by the algorithm to determine the main signal based on its proximity to the pivot point.<br/>
Adj Close: The adjusted closing price, taking into account dividend distributions and stock splits.<br/>

### Pivot Points:
PP: The pivot point, calculated as the average of the previous day's high, low, and close prices.<br/>

### Algorithm-Specific Data:
Signal: The buy or sell signal generated by the algorithm based on the Close price relative to the PP and potentially other technical indicators.<br/>
Returns: The percentage return on each trade executed by the algorithm.<br/>
Profit: The cumulative profit or loss generated by the algorithm over a given period.<br/>
Balance: The total account balance after each trade, reflecting the cumulative performance of the algorithm.<br/>


## Project Objectives 


To develop and implement a backtest for an algorithm on the OANDA FX brokerage platform, utilizing the EURJPY Pivot Strategy to generate buy and sell signals based on the price of the close relative to the intraday pivot point.



## Project Deliverables:  
This section outlines the key deliverables and artifacts associated with the project, providing a comprehensive overview of what users can expect from the codebase.


### 1. Jupyter Notebook 
   - **File:** `Notebook.ipynb`
   - **Description:** Jupyter notebook that performs the following tasks:
      - Downloads historical stock market data for a specified ticker.
      - Calculates pivot points.
      - Visualizes historical stock price movements, pivot points, and technical levels using Seaborn and Matplotlib.
      - Displays relevant information, including the last calculated pivot points.


### 2. README
   - **File:** `README.md`
   - **Description:** This document provides comprehensive information about the project, including:
      - Overview of the project's purpose and functionality.
      - Installation instructions and dependencies.
      - Explanation of tools and technologies used.
      - Details on how to run the Python script and contribute to the project.
      - Licensing information and guidelines for contributions.

### 3. License
   - **File:** `LICENSE`
   - **Description:** The project is licensed under the [MIT License](https://choosealicense.com/licenses/mit/), allowing users to freely use, modify, and distribute the code within the specified terms and conditions.

### 4. Version Control
   - **Repository:** [GitHub Repository](#)
   - **Description:** The project is version-controlled using Git. The repository provides a centralized location for tracking changes, collaborating with others, and maintaining a versioned history of the codebase.

### 5. Requirements File
   - **File:** `requirements.txt` 

# Goals

Successful Algorithm Implementation.
Seamlessly integrate the algorithm with the OANDA FX brokerage API.
Ensure accurate execution of trades based on generated signals.
Implement robust error handling and risk management mechanisms.

Effective Trading Performance:

Generate consistent and profitable trading results in live market conditions.
Evaluate and optimize the algorithm's performance through backtesting and forward testing.
Fine-tune signal generation and trade execution parameters for optimal outcomes.
Comprehensive Monitoring and Analysis:

Develop a system to track and analyze the algorithm's performance in real-time.
Generate detailed performance reports, including profit and loss statements, drawdowns, win rates, and other key metrics.
Identify areas for improvement and make necessary adjustments to the algorithm.
Continuous Evaluation and Improvement:

Regularly review and assess the algorithm's performance in response to changing market conditions.
Adapt and refine the algorithm as needed to maintain its effectiveness.
Explore potential enhancements, such as incorporating additional technical indicators or risk management strategies.

# Initial Questions 
1. Is the strategy profitable in a backtest? Does it beat the benchmark strategy?
2. What are the return metrics?  Sharpe ratio? Sortino?  Max Drawdown? 


# Exploring the Data
This section provides insights into the data exploration process, outlining key steps and visualizations generated from the historical market data.

### 1. Data Retrieval

#### Ticker: EURJPY (Default)
- The project retrieves historical stock market data for the EURJPY as the default ticker.
- Users can modify the ticker directly into the notebook.

#### Date Range: Last 30 Days
- Data is fetched with daily intervals, covering the last year.

### 2. Pivot Points and Technical Levels

#### Calculation
- Pivot points, are calculated based on traditional pivot point analysis.

#### Data Organization
- The calculated pivot points and related prices are structured into a Pandas DataFrame named `data`.

#### Last Calculated Pivot Points
- The appropiate entry of pivot points (excluding the most recent data) is extracted and printed for informational purposes.

### 3. Data Visualization

#### Line Plot
- A line plot is generated using Seaborn and Matplotlib.
- It visualizes hypothetical daily returns for the backtest.
![hypotheticalreturnsimage](https://github.com/guzmanwolfrank/QuantTrading/assets/29739578/d3d7957a-38a2-423c-9e37-a018e1ae8be9)

#### QuantStats HTML Tearsheet 
- QuantStats module prints results and risk metrics to an external webpage.  You can save it locally or to your online Github repository. 
![quanstatsEURJPY](#)



# Findings 

Profitability: The algorithm achieved a positive overall profit (14.37%) over the backtesting period. This suggests that the Pivot Strategy was able to successfully identify profitable trading opportunities.
Win Rate: The algorithm maintained a win rate of [55.85%] over the backtesting period, indicating that it captured a significant portion of positive trades.
Risk Management: The implemented risk management measures effectively limited drawdowns and protected the capital.
<br/>
Areas for Improvement:
<br/>
Drawdown Optimization: While drawdowns were controlled, further optimization could potentially reduce their extent without significantly impacting profitability.
<br/>
Signal Refinement: Analyzing false positives and missed opportunities could lead to refining the signal generation rules for enhanced accuracy.
<br/>
Market Adaptability: Evaluating the algorithm's performance across different market conditions (trending, ranging, volatile) can reveal potential weaknesses and suggest adaptation strategies.

# Conclusion

The backtest demonstrates the potential of the EURUSD Pivot Strategy to generate profitable trading signals. However, further optimization and testing are recommended to address the identified areas for improvement and ensure robustness in live market conditions.

Disclaimer: These findings are based solely on the backtesting results and may not necessarily translate to consistent profitability in live trading.



## Tech Stack 
yfinance==0.2.18  </br>
seaborn==0.12.2 </br>
pandas==2.0.3 <br/>
matplotlib==3.7.2 <br/>
QuantStats==0.0.62 <br/>
numpy== 1.24.3   <br/>




    Software: Python 3.11, VS Code, Jupyter Notebook
    Languages:  Python
    Modules: Seaborn, Pandas, Yfinance, Matplotlib

## Project Structure

- **README:**
  - **Description:** This document provides an overview of the project, its purpose, and instructions for running and understanding the code.

- **Python Script:**
  - **Description:** The main script written in Python that fetches financial data, calculates pivot points, and visualizes the historical stock price movements.

## Dependencies

- Ensure that the required Python libraries are installed. You can install them using the following command:


```bash
pip install yfinance pandas seaborn matplotlib

#

### Getting Started

Clone the Repository:
$bash
git clone (git url)

Install Dependencies:
$bash
pip install -r requirements.txt


Run the Script:
$bash
python notebook.py

```


## Badges 

[![MIT License](https://img.shields.io/badge/License-MIT-green.svg)](https://choosealicense.com/licenses/mit/)


## License 
[MIT](https://choosealicense.com/licenses/mit/)

